************************************************
Обновление CS-Cart с помощью "Центра обновлений"
************************************************

**Центр обновлений** автоматически собирает информацию с серверов CS-Cart обо всех доступных обновлениях и уведомляет об этом администраторов. Это позволяет отслеживать последние обновления, выпущенные для CS-Cart.

.. note::

    Если вы не знакомы с техническими аспектами CS-Cart и процессом обновления, вы можете `нанять специалиста для обновления вашего магазина <http://marketplace.cs-cart.com/developers-catalog.html?services=M>`_. Также вы можете `обратиться в нашу техподдержку <https://www.cs-cart.com/index.php?dispatch=communication.tickets&submit_ticket=Y>`_.

============================
Нстройка "Центра обновлений"
============================

1. Откройте панель администратора вашего магазина.

2. Откройте **Настройки → Центр обновлений**.

3. Заполните следующие поля:

* **Номер лицензии** — лицензионный ключ, прикреплённый к вашему доменному имени. Данный ключ можно найти на странице **Licenses** в вашем `пользовательском аккаунте на Help Desk <https://www.cs-cart.com/helpdesk>`_. Обновление невозможно при использовании пробной версии.

Если у веб-пользователя нет разрешения на обновление файлов на вашем сервере, введите данные вашего FTP сервера.

* **Имя сервера** — имя вашего FTP сервера.

* **Имя пользователя** — пользователь FTP.

* **Пароль** — FTP пароль.

* **Директория** — директория на FTP сервере, в которой расположен CS-Cart.

4. Нажмите кнопку **Сохранить**, чтобы применить изменения.

.. image:: img/upgrade_settings.png
    :align: center
    :alt: Для обновления вам понадобится рабочий номер лицензии. Также, возможно, потребуется уточнить данные FTP сервера.

==================
Обновление CS-Cart
==================

.. note::

    Так как обновление — это сложный процесс, прежде всего, мы рекомендуем обновить тестовую копию магазина, чтобы убедиться, что всё пройдёт гладко.

    Обновление CS-Cart не обновляет модули сторонних разработчиков, поэтому мы рекомендуем отключить все сторонние модули перед обновлением.

1. Откройте **Администрирование → Центр обновлений**.

2. Щёлкните по **шестерёнке** и из выпавшего меню выберите **Обновить список дистрибутивов**. После этого, на экране отобразятся все дистрибутивы обновлений доступные на данный момент. В центре страницы показывается подробная информация по доступным обновлениям.

.. image:: img/refresh_packages.png
    :align: center
    :alt: Обновите список дистрибутивов, чтобы увидеть, какие дистрибутивы доступны на данный момент.

3. Щёлкните по кнопке **Загрузить** для загрузки пакета обновлений.

4. После окончания загрузки, пользователь получит извещение о том, что дистрибутив готов к установке. Для того, чтобы перед обновлением просомтреть список изменений, щёлкните по ссылке **Содержимое дистрибутива**.

5. Нажмите кнопку **Установить** для запуска процесса обновления.

.. image:: img/install_package.png
    :align: center
    :alt: Нажмите **Содержимое дистрибутива** для просмотра списка изменений перед обновлением.

.. important::

    Во время обновления :doc:`витрина автоматически закрывается <../user_guide/look_and_feel/changing_attributes/store_closed>`. Вам нужно будет открыть её вручную после того, как завершится процесс обновления.
    
    База данных и файлы вашего магазина перед обновлением резервируются. Архив включает в себя всю базу данных и все файлы, кроме изображений. Архив хранится в директории установки CS-Cart в *var/backups*.

6. При обновлении изменённые файлы, подлежащие замене, будут отображаться на той же странице. Данные файлы будут зарезервированы для doc:`последующего разрешения конфликтов между версиями <resolve_conflicts>`. Выберите флажок **Подтвердить** и щёлкните по кнопке **Продолжить**.

.. image:: img/modified_files.png
    :align: center
    :alt: Центр обновлений зарезервирует файлы, изменённые вручную, для последующего разрешения конфликтов.

7. Также на данном шаге отображаются файлы, требующие настройки прав типа *запись*. Для настройки прав, щёлкните по кнопке **Установить права автоматически через FTP**.

8. Если процесс обновления прошёл успешно, вы увидите соответствующее уведомление. Также на ваш почтовый ящык будет отправлено письмо со сводкой обновления. Если после обновления вы не можете зайти в свою панель администратора, используйте ссылку, указанную в письме, для восстановления магазина из зарезервированного архива.

================
После обновления
================

After the upgrade is complete, we recommend to check the basic functions of your store:

* Open the storefront and look through the most important sections, like product pages, checkout, contacts, etc.

* Try to make a test purchase on behalf of a test customer.

* Check the data in the administration panel: products catalog, orders list, etc.

После завершения процесса обновления, мы рекоммендуем проверить основные функции вашего магазина:

* Откройте витрину и просмотрите самые важные секции магазина, такие, как страницы товаров, страница оформления заказа, контакты и т.д.

* Выполните тестовый заказ от лица тестового покупателя.

* Проверьте данные в панели администратора: каталог товаров, список заказов и т. д.
