***********************
Яндекс.Маркет — экспорт
***********************

.. epigraph::

   Ежемесячно более 20 000 000 человек по всей России выбирают товары и магазины на Яндекс.Маркете.

   -- Официальный сайт


.. contents:: Вы узнаете:
    :local: 
    :depth: 3



Полезные ссылки
===============

*   |ym_register|

.. |ym_register| raw:: html

   <!--noindex--><a href="https://partner.market.yandex.ru/pre/index.xml" target="_blank" rel="nofollow">Регистрация нового магазина</a><!--/noindex-->


*   |ym_help|

.. |ym_help| raw:: html

   <!--noindex--><a href="http://help.yandex.ru/partnermarket/" target="_blank" rel="nofollow">Помощь и много полезного</a><!--/noindex-->

*   |ym_bid_1|


*   Прайс-лист вашего интернет-магазина для Яндекс.Маркет доступен по ссылке: 

    ``ваш_домен/index.php?dispatch=yandex_market.view``


Открыть прайс-лист
==================

1.  Откройте в браузере страницу:

    ``ваш_домен/index.php?dispatch=yandex_market.view``

2.  Введите логин и пароль администратора интернет-магазина. По логину и паролю будет определена витрина и доступные для данной витрины товары. 

    В Multi-Vendor:

    *   Логин и пароль продавца отобразит только товары продавца.

    *   Логин и пароль администратора отобразит все товары.

.. fancybox:: img/yandex_market_export_19.png
    :alt: Яндекс.Метрика

.. important::

    Первое создание прайс-листа может занять продолжительное время, так как будет запущен процесс создания миниатюр. Далее прайс-лист будет кэшироваться и отображаться намного быстрее.

    Очистка кэша выполняется автоматически при изменении товаров и настроек модуля.


.. note::

    Прайс-лист также может быть доступен по ссылке ``ваш_домен/yandex_market.yml`` , если включен модуль SEO. 

    Если модуль SEO выключен, вам нужно добавить следующую часть кода в файл ".htaccess":

    ``RewriteRule ^yandex_market\.yml$ ваш_домен/index.php?dispatch=yandex_market.view [L]``

    Добавьте данную строчку после строчки "RewriteBase".

Отправить прайс-лист в Яндекс.Маркет
====================================

В личном кабинете Яндекс.Маркет укажите URL прайс-листа и данные доступа.

.. fancybox:: img/yandex_market_export_18.png
    :alt: Яндекс.Метрика

Сохранить прайс-лист на компьютер
=================================

1.  Откройте прайс-лист в браузере по ссылке:

    ``ваш_домен/index.php?dispatch=yandex_market.view``

    .. fancybox:: img/yandex_market_export_19.png
        :alt: Яндекс.Метрика

2.  Кликните правой клавишей мыши по странице и нажмите «Сохранить как»

    .. fancybox:: img/yandex_market_export_20.png
        :alt: Яндекс.Метрика

3.  Сохраните файл в формате «.yml» . Например: ``yandex.yml``

    .. fancybox:: img/yandex_market_export_21.png
        :alt: Яндекс.Метрика

4.  Откройте файл в любом текстовом редакторе или загрузите вручную в Яндекс.Маркет.

Всё.

Настройка модуля
================

1.  Установите модуль "Яндекс.Маркет" в панели администратора. 
    
    .. fancybox:: img/yandex_market_export_01.png
        :alt: Яндекс.Метрика

2.  Откройте настройки модуля, кликом по названию.

    .. fancybox:: img/yandex_market_export_02.png
        :alt: Яндекс.Метрика

Доступные настройки модуля
==========================

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Тип описания предложений товаров

        -   Доступны два варианта:

            *   Упрощенное описание

                Название товара в Яндекс.Маркет формируется из названия товара в вашем интернет-магазине.

                |ym_simple|

            *   Произвольный товар (vendor.model)

                Название товара в Яндекс.Маркет формируется по формуле: 

                ``<typePrefix> + <vendor> + <model>``

                *   ``<vendor>`` — производитель (бренд), обязательное поле

                *   ``<model>`` — модель, обязательное поле

                *   ``<typePrefix>`` — тип товара (категория), необязательное поле

                Для каждого товара который вы хотите экспортировать в Яндекс, должны быть заполнены обязательные поля.

                |ym_vendor|

    *   -   Название магазина

        -   Название вашего магазина для прайс-листа.

    *   -   Экспортировать только товары, которые есть на складе 

        -   Название настройки передаёт смысл.

    *   -   Экспортировать код производителя

        -   Да или нет

    *   -   Исключить выключенные категории 

        -   Для каждой категории магазина будет добавлена новая настройка «Исключить из выгрузки в Яндекс.Маркет».

    *   -   Названия характеристик для использования в поле «brand» 

        -   Выберите характеристику товара, и её значение будет выгружено к товару.

            Для выбора доступны только характеристики с типом «Бренд/Производитель».

            Если характеристика не выбрана, будет использоваться значение «YM Бренд» из настроек товара.

    *   -   Характеристика кода производителя

        -   Выберите характеристику товара, которая будет использована в прайс-листе, для обозначения кода производителя. 

            .. note::

                Если у вас нет соответствующей характеристики, создайте её. 

    *   -   Использовать поле доставки в домашнем регионе 

        -   Вы можете настроить стоимость доставки:

            1.  В личном кабинете Яндекс.Маркет

            2.  Загружать в прайс-листе. 

            Если настройка выбрана, то у товара появится новое поле «YM Стоимость доставки в домашнем регионе»
 
    *   -   Стоимость доставки в домашнем регионе  

        -   Данное значение будет использоваться, если нет соответствующего значения у товара.

    *   -   Кодировка экспортируемого файла

        -   UTF-8 или Windows-1251

    *   -   Тип изображения

        -   В прайс-лист могут быть выгружены полные изображения или уменьшенные копии (иконки). Иконки будут созданы автоматически.

    *   -   Ширина иконки

        -   Размер изображения для выгрузки в Яндекс.Маркет

    *   -   Высота иконки

        -   Размер изображения для выгрузки в Яндекс.Маркет


.. |ym_simple| raw:: html

   <!--noindex--><a href="http://help.yandex.ru/partnermarket/offers.xml#base" target="_blank" rel="nofollow">Подробное описание</a><!--/noindex-->


.. |ym_vendor| raw:: html

   <!--noindex--><a href="http://help.yandex.ru/partnermarket/offers.xml#vendor" target="_blank" rel="nofollow">Подробное описание vendor.model</a><!--/noindex-->


Настройки товаров
=================

Модуль Яндекс.Маркет добавляет новые поля и настройки для товаров, которые необходимы для формирования прайс-листа.

    
.. fancybox:: img/yandex_market_export_04.png
    :alt: Яндекс.Метрика


.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   YM Бренд

        -   Бренд → <brand>

            Обязательное поле для типа экспорта vendor.model 

            Если в настройках модуля выбрана характеристика для данного поля, то можно не заполнять.

    *   -   YM Модель

        -   Модель → <model>

            Обязательное поле для типа экспорта vendor.model 

    *   -   YM Группа товаров/категория (typePrefix):

        -   Тип товара → <typePrefix>

            Необязательное поле.

    *   -   YM Sales notes

        -   Короткий промо-текст

    *   -   YM Значение поля "market_category"

        -   Категория товара, в которой он должен быть размещен на Яндекс.Маркете. Допустимо указывать названия категорий только из товарного дерева категорий Яндекс.Маркета. Необязательный элемент.

            Мы добавили полное список категорий Яндекс.Маркета, просто начните вводить название категории в поле.

    *   -   YM Страна производитель

        -   Страна производства товаров.

    *   -   YM Экспортировать товар в Яндекс.Маркет

        -   Вы можете исключить конкретный товар из прайс-листа

    *   -   YM Стоимость доставки в домашнем регионе

        -   В основной валюте интернет-магазина

    *   -   YM Возможность доставки товара

        -   <delivery>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   YM Возможность купить товар в розничном магазине

        -   <store>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   YM Возможность зарезервировать товар и забрать его самостоятельно

        -   <pickup>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   YM Основная ставка

        -   bid (oсновная ставка)

            *   |ym_bid_1|

            *   |ym_bid_2|

    *   -   YM Ставка для карточек

        -   cbid (cтавка на клик для карточек);

            *   |ym_bid_1|

            *   |ym_bid_2|


.. |ym_bid_1| raw:: html

   <!--noindex--><a href="http://help.yandex.ru/partnermarket/yml-auction.xml" target="_blank" rel="nofollow">Управление ставками через YML</a><!--/noindex-->

.. |ym_bid_2| raw:: html

   <!--noindex--><a href="http://help.yandex.ru/partnermarket/auction/placement.xml#placement" target="_blank" rel="nofollow">На что влияют ставки</a><!--/noindex-->

Редактирование настроек товара
==============================

1.  Пройдите на страницу редактирования товара.

    .. fancybox:: img/yandex_market_export_06.png
        :alt: Яндекс.Метрика

2.  Откройте вкладку «Ещё» → «Модули»

    .. fancybox:: img/yandex_market_export_05.png
        :alt: Яндекс.Метрика

3.  Измените настройки
  
    .. fancybox:: img/yandex_market_export_04.png
        :alt: Яндекс.Метрика

Массовое редактирование настроек
================================

Вы можете редактировать настройки для группы товаров на одной странице. Доступно массовое редактирование до 100 товаров одновременно.

1.  Пройдите на страницу «Товары» и выберите товары, которые необходимо отредактировать.

    .. fancybox:: img/yandex_market_export_07.png
        :alt: Яндекс.Метрика

2.  Нажмите «Шестерёнка» → «Редактировать выбранные»

    .. fancybox:: img/yandex_market_export_08.png
        :alt: Яндекс.Метрика 

3.  В появившемся окне, выберите поля для редактирования. Все поля Яндекс.Маркета начинаются с префикса «YM». 

    .. note::

        Выберите несколько полей для редактирования.

    .. fancybox:: img/yandex_market_export_09.png
        :alt: Яндекс.Метрика   

4.  Отредактируйте выбранные поля.

    .. fancybox:: img/yandex_market_export_10.png
        :alt: Яндекс.Метрика 

    .. note::

        Если необходимо применить одно значение для всех товаров, используйте ссылку «Применить значения к выделенным товарам»


Экспорт/импорт настроек товаров (CSV)
=====================================

Вы можете обновлять настройки с помощью экспорта/импорта товаров. 

.. important::

    Идентификация товаров при экспорте/импорте осуществляется по коду товара. У всех товаров должен быть уникальный код товара.


1.  Пройдите на страницу «Экспорт данных» 

    .. note::

        Администрирование → Экспорт данных → Товары


    .. fancybox:: img/yandex_market_export_11.png
        :alt: Яндекс.Метрика 

2.  Выберите необходимые для экспорта поля. 

    Все поля для Яндекс.Маркета имеют префикс «YM» («YM Brand»).

    .. fancybox:: img/yandex_market_export_12.png
        :alt: Яндекс.Метрика 

3.  Нажмите «Экспорт»

4.  Откройте файл в табличном редакторе и внесите необходимые изменения.

    Рекомендуем использовать |ym_libre| — удобный и бесплатный редактор.

    .. fancybox:: img/yandex_market_export_13.png
        :alt: Яндекс.Метрика 

.. |ym_libre| raw:: html

   <!--noindex--><a href="http://ru.libreoffice.org/" target="_blank" rel="nofollow">LibreOffice</a><!--/noindex--> 

5.  Пройдите на страницу «Импорт данных».

    .. note::

        Администрирование → Импорт данных → Товары

    .. fancybox:: img/yandex_market_export_14.png
        :alt: Яндекс.Метрика 

6.  Выполните импорт отредактированного файла. 

    Данные товаров обновятся. 

    .. fancybox:: img/yandex_market_export_17.png
        :alt: Яндекс.Метрика 

    .. fancybox:: img/yandex_market_export_16.png
        :alt: Яндекс.Метрика 


7.  Вы увидите сообщение о количестве обновленных и созданных товаров.

    .. fancybox:: img/yandex_market_export_15.png
        :alt: Яндекс.Метрика 

Всё!

Настройки категорий
===================

Модуль "Яндекс.Маркет" добавляет новые настройки для категорий интернет-магазина.

Пройдите во вкладку «Модули» страницы редактирования категории.

.. fancybox:: img/yandex_market_export_22.png
    :alt: Яндекс.Метрика 

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   YM Исключить товары категории из экспорта в Яндекс.Маркет

        -   Из прайс-листа будут исключены товары данной категории, а также всех подкатегорий.

    *   -   YM Значение поля "market_category"

        -   Соответствие вашей категории и категории в Яндекс.Маркете. 

            Будет использоваться если, если данная настройка не задана у товаров.





