************************************************
Как разрешить покупателям становиться продавцами
************************************************

.. important::

    Продавцы есть только в Multi-Vendor.

===========================================================
Шаг 1. Разрешим покупателям создать учетную запись продавца
===========================================================

#. Откройте страницу **Настройки → Продавцы** в панели администратора Multi-Vendor.

#. Поставьте галочку **Позволить пользователю создать учетную запись продавца**.

#. Если нужно, разрешите на той же странице автоматическое создание учетных записей администраторов для одобренных продавцов. Так вам не придётся вручную создавать учётную запись для одобренного продавца, чтобы он смог войти в свою панель администратора.

#. Нажмите кнопку **Сохранить**.

   .. fancybox:: img/settings_vendors.png
       :alt: Пользователей можно попросить согласиться с определенными условиями.

=======================================
Шаг 2. Настроим форму создания продавца
=======================================

#. Откройте страницу **Администрирование → Поля профиля** в панели администратора Multi-Vendor.

#. На панели справа переключитесь на раздел **Информация о продавце**.

#. Откроется страница, на которой вы сможете настроить форму регистрации продавца: добавить и убрать какие-то поля, сделать их обязательными или необязательными, поменять порядок, и т.п. Эта страница работает так же, как :doc:`страница настройки полей профиля покупателей и администраторов </user_guide/users/customers/change_profile_fields>`.

   .. hint::

       В форме есть поле с типом **Условия продавца**. При редактировании этого поля вы можете изменить текст соглашения, которое будущие продавцы должны принять при регистрации.

   .. fancybox:: img/vendor_profile_fields.png
       :alt: Настройка формы создания продавца.

==============================================
Шаг 3. Дадим ссылку на форму создания продавца
==============================================

После шага 1 форма создания продавца будет доступна по ссылке вида::

     http://example.com/index.php?dispatch=companies.apply_for_vendor 
     
Вам останется только подставить свой сайт вместо *http://example.com*.

.. fancybox:: img/vendors_application_form.png
    :alt: Покупатель должен заполнить форму, чтобы создать учетную запись продавца.

----------

Но есть и другие способы дать покупателям ссылку на форму. Например, в демо-данных Multi-Vendor есть меню **Быстрые ссылки** с элементом **Стать продавцом**. Вы можете создать свой элемент меню, который будет вести на страницу с формой. Значение URL у элемента меню должно быть таким: ``dispatch=companies.apply_for_vendor``.

.. hint::

    Вот более подробная инструкция о том, :doc:`как работать с меню и элементами меню </user_guide/look_and_feel/menus/index>`.

.. fancybox:: img/apply_for_vendor.png
    :alt: Пользователь может подать заявку на создание учетной записи продавца, используя ссылку в меню.

----------

В модуле :doc:`"Тарифные планы для продавцов" </user_guide/addons/vendor_plans/index>` также есть список всех доступных планов. Этот список появляется на странице c URL ``dispatch=companies.vendor_plans``. На этой странице покупатели выбирают план и попадают на форму создания продавца.

.. fancybox:: img/vendor_plans.png
    :alt: Список тарифных планов для продавцов.

====================================================================
Шаг 4. Дадим новому продавцу доступ в панель администратора продавца
====================================================================

#. Откройте страницу **Продавцы → Продавцы**.

#. Найдите продавца, которого нужно одобрить. Справа от него будут кнопки **Одобрить** (палец вверх) и **Отклонить** (палец вниз).

#. Нажмите **Одобрить**. Статус продавца автоматически изменится на *Вкл.*
 
   .. fancybox:: img/change_vendor_status.png
       :alt: Найдите продавца, которого нужно одобрить, и измените его статус.

   .. hint::

       Вы можете вручную выставить новому продавцу статус *Неподтверждённый*. Такие продавцы могут входить в свои панели администратора и управлять товарами, но покупатели не увидят таких продавцов и их товары на витрине. Подробнее о статусах продавцов читайте :doc:`в соответствующей статье <vendor_statuses>`.

Когда вы одобрите продавца, он получит уведомление на электронную почту, а администраторы продавца смогут войти в свои учётные записи в панели администратора продавца. Содержимое уведомления будет зависеть от ваших действий в шаге 1.3:

* Если вы включили автоматическое создание учётной записи администратора продавца, то в письме будут все данные для входа.

* Если вы не включили автоматическое создание учётной записи, то в письме просто будет информация о том, что заявка на получение статуса продавца одобрена. Вам придётся создать учётную запись администратора продавца вручную, а при создании вы сможете выбрать, отправлять ли письмо с данными для входа.
