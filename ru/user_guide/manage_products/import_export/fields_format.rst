Описание полей товаров для экспорта / импорта в CSV
---------------------------------------------------

.. list-table::
    :header-rows: 1
    :stub-columns: 1
    :widths: 10 30

    *   -   Поле

        -   Описание

    *   -   Product code

        -   Код товара (Артикул)

            **Обязательное поле**

            Главный идентификатор товара в базе данных.

            Пример: ``J00133PNYZ``

            Формат: строка длинной 32 символа

            .. note::

                Если делаете экспорт из магазина в CSV, обезательно проверьте, что заполнены коды всех товаров.

                Если при импорте код товаров не найден в базе данных, будет создан новый товар.

    *   -   Language
        
        -   **Код языка**

            **Обязательное поле**

            Код языка необходим для привязки текстовых описаний товаров (название, описание, промо-текст и т.д.) к языкам интернет-магазина.

            Пример: ``ru`` , ``en``

            Формат: две буквы в нижнем регистре.

    *   -   Store
        
        -   **Витрина**

            Формат: строка

            Значение: название компании

            Пример: ``Simtech``

    *   -   Product id

        -   **ID товара**, соответствует базе данных интернет-магазина.

            Если пустое поле **Product code**, то товар обновится по **Product id**

            Формат: число

    *   -   Category

        -   **Категория**

            Дерево категорий через разделитель. Разделитель задаётся с помощью настройки «Разделитель категории» (по умолчанию ``///``).

            Пример: ``Электроника///Фото видео///Объективы``

            .. note:: 

                Если категории нет в базе данных, то она будет создана, включая подкатегории.

            .. important::

                Обязательное поле для новых товаров, следите, чтобы Category было заполнено для всех новых артикулов, иначе будет создан товар без категории. В этом случае делаем экспорт и добавляем категорию.

    *   -   Price

        -   **Цена**

            Основная цена — цена продажи товара в интернет-магазине.

            Пример: ``5999.00``

            Формат: десятичное число, разделитель — точка (.)     

    *   -   List price

        -   **Рекомендованная цена**

            Используется для лейбла скидки, в расчётах стоимости корзины не участвует. 

            Пример: ``7999.60``

            Формат: десятичное число, разделитель — точка (.)

    *   -   Status

        -   **Статус товара**

            Варианты:

            *   ``A`` — включен

            *   ``H`` — скрыт         

            *   ``D`` — выключен

    *   -   Quantity

        -   **Количество товара на складе**

            Формат: целое число

    *   -   Product name
        
        -   **Название товара**

            Формат: строка, может хранить не более 255 символов

    *   -   Description
        
        -   **Описание товара**

            Формат: строка, может хранить не более 16 777 215 символов

    *   -   Short description
        
        -   **Краткое описание товара**

            Формат: строка, может хранить не более 16 777 215 символов

    *   -   Meta keywords
        
        -   **Мета-тег keywords** — ключевые слова для SEO

            Формат: строка, может хранить не более 255 символов            

    *   -   Meta description
        
        -   **Мета-тег description** — мета описание для SEO

            Формат: строка, может хранить не более 255 символов        

    *   -   Search words
        
        -   **Слова для поиска по магазину**

            Слова через запятую, по данным словам товар будет найден через стандартный поиск магазина.

            Формат: строка, может хранить не более 65 535 символов. 

    *   -   Page title
        
        -   **Заголовок страницы (тег title)**

            Отображается в названии вкладки браузера. Если не задан, то генерируется автоматически.

            Формат: строка, может хранить не более 255 символов     

    *   -   Promo text
        
        -   **Промо-текст**

            Формат: строка, может хранить не более 16 777 215 символов            

    *   -   Thumbnail
        
        -   **Миниатюра**

            Так как миниатюры создаются автоматически из детального изображения, то использовать данное поле следует, только если очень нужна особая миниатюра (миниатюра будет отличаться от детального изображения)

            Формат: аналогично полю Detailed image.

    *   -   Detailed image
        
        -   **Основное изображение товара**

            Возможны различные варианты формата:

            *   URL

            *   Просто название файла 

                Пример: ``image.jpg`` 

            *   Название файла и альтернативный текст (alt)

                Пример: ``image.jpg#{[en]:BLABLABLA;[ru]:ПАМПАРАМ;}`` 

            *   Полный путь к файлу на сервере и альтернативный текст (alt)

                Пример: ``exim/backup/images/image.jpg#{[en]:BLABLABLA;[ru]:ПАМПАРАМ;}``


            Директория с изображениями задаётся в настройке «Директория с изображениями». 

            .. list-table::
                :widths: 20 20

                *   -    По умолчанию в настройке «Директория с изображениями»

                    -    ``exim/backup/images/``

                *   -    Фактическое расположение файлов на сервере

                    -    ``/var/files/[id_компании]/exim/backup/images``

    *   -   Features
        
        -   **Характеристики товара**

            Если характеристики или варианта нет в базе, он создаётся автоматически.

            Формат: строка, описание характеристик по формуле, разделитель характеристик — точка с запятой (;)

            Формула каждой характеристики: 
            
            ``(название_группы) название_характеристики: тип_характеристики[название_варианта]``

            Пример: 

            ``(Электроника) Дисплей: S[4.7"]; (Электроника) Объём памяти: S[16GB]; Бренд: E[Apple]``

            Типы характеристик:

            *   ``C`` — флажок: один

            *   ``M`` — флажок: несколько

            *   ``S`` — список вариантов: текст

            *   ``N`` — список вариантов: число

            *   ``E`` — список вариантов: Бренд/Производитель

            *   ``T`` — другие: текст

            *   ``O`` — другие: число

            *   ``D`` — другие: дата

    *   -   Options
        
        -   **Опции товара**

            Если опций нет в базе данных, они создаются.

            Формат: строка, каждая опция и её варианты описываются по формуле, разделитель опций - точка с запятой (;)

            Формула описания опции (упрощенная):
            ``(название_компании) название_опции: тип_опции[вариант1, вариант2, вариант3]///настройка=значение``

            Пример:
            ``(Simtech) Цвет: S[Оранжевый,Ярко-красный,Зелёный]///inventory=Y///status=A``

            **Типы опций**

            *   ``S`` — Список вариантов

            *   ``R`` — Радиогруппа

            *   ``C`` — Флажок

            *   ``I`` — Текст

            *   ``T`` — Текстовая область

            *   ``F`` — Файл

            Пример:

            ``(Simtech) Ваш текст: T; (Simtech) Цвет: S[белый, чёрный]; (Simtech) Файл: F``

            **Настройки опций**

            Настройки опции перечисляются в формате ``настройка=значение``, разделитель - три слэша(///).

            Пример:

            ``(Simtech) Дополнительная гарантия: S[нет, да]///inventory=Y///status=A``

            Доступные настройки опций:

            *   ``inventory`` — расчет количества товара в наличии

                Варианты: 

                +   ``Y`` — да

                +   ``N`` — нет

            *   ``missing_variants_handling`` — Если отсутствуют варианты

                Варианты: 

                +   ``M`` — Показывать сообщение
                
                +   ``H`` — Скрыть опцию полностью

            *   ``required`` — обязательное

                Варианты: 

                +   ``Y`` — да

                +   ``N`` — нет

            *   ``status`` — Статус

                Варианты: 

                +   ``A`` — включен

                +   ``D`` — выключен

            *   ``multiupload`` — мультизагрузка (для опций с типом «Файл»)

                Варианты: 

                +   ``Y`` — да

                +   ``N`` — нет

            *   ``allowed_extensions`` — разрешенные расширения (для опций с типом «Файл»)

                Пример: ``allowed_extensions=jpg,bmp,gif,pdf``

            *   ``max_file_size`` — максимальный размер загружаемого файла в КБ (для опций с типом «Файл»)

                Пример: ``max_file_size=100``

            **Параметры вариантов опций** 

            Можно добавить в выгрузку параметры вариантов опции: модификаторов цены и веса, изображения варианта опции. Параметры перечисляются после названия варианта,  разделитель - три слэша(///).

            Пример описания варианта опции (возможности описания):

            ``название_варианта///image=exim/backup/images/variant_image/image.jpg///modifier=5.000///modifier_type=P``

            Параметры варианта опции:

            *   ``image`` — изображение варианта.

                Работает аналогично полю Detailed image

                Пример: ``image=exim/backup/images/variant_image/image.jpg``

            *   ``modifier`` — модификатор цены

                Пример: ``modifier=5.000``

            *   ``modifier_type`` — тип модификатора

                +   ``P`` — %

                +   ``A`` — Абсолютное значение в валюте магазина

                Пример: ``modifier=P``

            *   ``weight_modifier`` — модификатор веса

                Пример: ``modifier=5.000``

            *   ``weight_modifier_type`` — A

                +   ``P`` — %

                +   ``A`` — абсолютное значение в еденице веса.

    *   -   Options type
        
        -   **Тип опций**

            Варианты:

            *   ``P`` — одновременно

            *   ``S`` — последовательно
  
    *   -   Exceptions type
        
        -   **Тип исключений**

            Варианты:

            *   ``F`` — запрещение

            *   ``A`` — разрешение

    *   -   Secondary categories
        
        -   **Дополнительные категории товара**

            Не путать, главная категория задаётся в поле Category

            Формат: строка, дополнительные категории по формуле, разделитель точка с запятой(;)

            Формула описания каждой категории, аналогично полю основной категории (Category).

            Примеры:

            *   Одна дополнительная категория:

                ``Электроника///Игровые приставки///Аксессуары``

            *   Две дополнительные категории:

                ``Электроника///Игровые приставки///Аксессуары; Мультимедиа///Музыка///Рок``

            Разделитель уровней задаётся в настройке «Разделитель категории».

            Если категории нет в базе данных, она будет создана автоматически.

    *   -   Date added
        
        -   **Дата создания**

            Формат: ``08 Feb 2012 00:00:00``

    *   -   Available since
        
        -   **Доступен с**

            Настройка использется, если товара нет на складе и включено "Действие при отсутствии товара в наличии: Предзаказ"

            Формат: дата

            Пример: ``08 Feb 2012 00:00:00``

            
    *   -   Usergroup IDs
        
        -   **Группы пользователей**

            Если нужно ограничить доступность товаров для разных групп покупателей.

            Формат: строка, id групп пользователей или зарезервированные id, разделитель - запятая.

            Выделенные ID:

            *   ``0`` — всё 

            *   ``1`` — гости

            *   ``2`` — зарегистрированные

            Пример:

            .. list-table::
                :widths: 30 20

                *   -    Все покупатели

                    -    ``0``

                *   -    Только зарегистрированные 

                    -    ``2``

                *   -    Только зарегистрированные и покупатели из группы ID = 6 

                    -    ``2,6``

    *   -   Taxes
        
        -   **Налоги**

            Формат: названия налогов применяемых товару, через запятую.

            Пример: ``VAT, НДС``

    *   -   Min quantity
        
        -   **Минимальный заказ** на товар

            Формат: целое число

    *   -   Max quantity
        
        -   **Максимальный заказ** на товар

            Формат: целое число

    *   -   Quantity step
        
        -   **Шаг заказа**

            Шаг списка выбора количества товара для заказа

            Формат: целое число

    *   -   List qty count
        
        -   **Максимальное число вариантов в списке выбора количества**

            Выбор количества товаров будет заменён на список (по умолчанию поле ввода)

    *   -   Weight
        
        -   **Вес товара**

            Пример: ``1.25``

            Формат: десятичное число, разделитель — точка (.)

    *   -   Shipping freight
        
        -   **Стоимость доставки**

            Надбавка к общей стоимости доставки. Задаётся в основной валюте магазина.

            Формат: десятичное число, разделитель — точка (.)

            Например, стоимость доставки Почтой РФ — 300 рублей. У товара задана дополнительная стоимость доставки — 50 рублей. Если покупатель добавит в корзину 5 таких товаров, то стоимость доставки составит: 300 + 50*5 = 550 рублей.

            Можно использовать как стоимость упаковки конкретного товара

    *   -   Items in box
        
        -   **Количество штук в коробке**

            Параметры доставки товара, используется в расчётах стоимости доставки.

            Формат: строка по формуле

            Формула: ``min:X;max:Y`` , где X и Y — числа

            Пример: ``min:1;max:1``

    *   -   Box size
        
        -   **Размер коробки**

            Параметры доставки товара, используется в расчётах стоимости доставки.

            Формат: строка по формуле

            Формула: ``length:X;width:Y;height:Z`` , где:

            *   ``length`` — длина

            *   ``width`` — ширина

            *   ``height`` — высота
            
            Пример: ``length:20;width:30;height:40``

    *   -   Inventory tracking
        
        -   **Расчет количества товара в наличии**

            Отслеживание остатков на складе.

            Варианты:

            *   ``O`` — Отслеживать количество товара с учетом опций (если у товара есть опции)

            *   ``B`` — Отслеживать количество товара без учета опций (по умолчанию)

            *   ``D`` — Не отслеживать 


    *   -   Out of stock actions
        
        -   **Действие при отсутствии товара в наличии**

            Варианты:

            *   ``N`` — Не выбрано (по умолчанию)

            *   ``B`` — Предзаказ

            *   ``S`` — Подписаться на уведомления

    *   -   Free shipping
        
        -   **Бесплатная доставка**

            Товар не будет учитываться при расчётах стоимости доставки.

            Варианты:

            *   ``Y`` — да

            *   ``N`` — нет (по умолчанию)  

    *   -   Feature comparison
        
        -   **Сравнение характеристик**

            Товар можно будет добавить в список сравнения. У товара появится кнопка «Сравнить»

            Варианты:

            *   ``Y`` — да

            *   ``N`` — нет (по умолчанию)  

    *   -   Zero price action
        
        -   **Действие при нулевой цене**

            Варианты:

            *   ``R`` — Не разрешать добавлять товар в корзину

            *   ``P`` — Разрешить добавить товар в корзину

            *   ``A`` — Попросить покупателя ввести цену

    *   -   Downloadable
        
        -   **Цифровой товар**

            Признак того, что товар является цифровым (скачиваемым). 

            Необходимо включить настройку «Настройки → Общие → Включить продажу цифровых товаров»

            Варианты:

            *   ``Y`` — да

            *   ``N`` — нет (по умолчанию)       

    *   -   Files
        
        -   **Продаваемые файлы**

            Формат: 

            *   Строка

            *   Если файлов несколько, то через запятую каждый файл по формуле.

            *   Формула (с папкой): ``[id_папки]/[название_файла]#[название_файла_предпросмотра]``

            *   Формула (без папки): ``[название_файла]#[название_файла_предпросмотра]``  

            Пример: ``1/file1.pdf#preview1.pdf, file2.pdf#preview2.pdf, 2/file3.pdf#preview3.pdf``

            Файлы загружаются и выгружаются в директорию из настройки «Директория с файлами»

    *   -   Ship downloadable
        
        -   **Рассчитать стоимость доставки для электронного товара как для обычного**

            Варианты:

            *   ``Y`` — да

            *   ``N`` — нет (по умолчанию)  