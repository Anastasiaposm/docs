**********************************
Как импортировать вариации товаров
**********************************

.. note::

    :doc:`Вариации товаров </user_guide/manage_products/products/product_variations>` являются частью :doc:`одноимённого модуля </user_guide/addons/product_variations/index>`.

Во время :doc:`импорта товаров </user_guide/manage_products/import_export/advanced_product_import>` вы можете объединять похожие товары в группы вариаций, чтобы покупатели могли переключаться между этими товарами. Цель этой статьи — рассказать, какая информация для этого нужна. В вашем файле будет больше информации: цены товаров, их количество, категории и т.д.

#. :ref:`Product code <import-product-code>` обязателен, так как отличает один товар от другого. При импорте он определяет, есть ли в магазине такой товар или вариация. Если товар с указанным кодом найден в магазине, то импорт не создаст новый товар, а обновит существующий. Вариация — это тоже товар.

#. :ref:`Variation group code <import-variation-group-code>` нужен для того, чтобы сгруппировать вариации. Цвет и размер есть не только у футболки, но и у толстовки. Тогда для всех вариаций одной футболки нужен свой код, а для всех вариаций одной толстовки — свой.

#. **Информация о характеристиках.** Чтобы можно было объединить товары в вариации с помощью *Variation group code*, должны выполняться 3 условия:

   * Нужны :doc:`характеристики </user_guide/manage_products/features/index>`, на основе которых можно создать вариации — на странице редактирования такой характеристики должна быть выбрана **Цель**, которая позволяет создавать вариации. У каждой цели есть описание, чтобы было понятно какая цель подойдёт для характеристики.

   * Для каждого товара, который мы хотим добавить в группу, должны быть заданы значения всех характеристик, на основе которых создаётся группа вариаций. Т.е. если у товара задан код группы, а также характеристики "Цвет" и "Размер", то у других товаров с таким же кодом группы должны тоже быть заданы "Цвет" и "Размер".

     .. hint::

         Если варианты характеристик для товаров уже были заданы раньше, то для создания группы не обязательно, чтобы эти значения были в импортируемом файле — достаточно будет *product code* и *variation group code*.

   * Сочетание характеристик, на основе которых создана группа, у каждой вариации должно быть уникальным. Если группа построена только на основе характеристик "Цвет" и "Размер", то в ней не могут сосуществовать две "красных футболки размера M".

----------

**Лучший способ:** ещё перед импортом товаров создать характеристики вручную (или отдельно импортировать их в ваш магазин) и выбрать им нужную цель. Плюсы такого решения:

* когда характеристика уже существует в магазине, то при :doc:`импорте товаров </user_guide/manage_products/import_export/advanced_product_import>` можно брать её значение из отдельного столбца в CSV-файле (как на картинке ниже) или узла в XML-файле:

  .. fancybox:: img/variation_import.png
      :alt: Вариации товаров в CSV-файле при импорте.

* перед импортом у характеристик уже задана цель, и поэтому группы вариаций создадутся сразу при импорте.

.. note::

    При экспорте товаров из CS-Cart и Multi-Vendor вы сможете в отдельных столбцах экспортировать те характеристики, у которых **Цель** подразумевает создание вариаций.
