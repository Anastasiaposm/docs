******************************
Простые и настраиваемые товары
******************************

.. important::

    Чтобы создавать настраиваемые товары, :doc:`установите и включите соответствующий модуль </user_guide/addons/product_variations/index>`. **Модуль находится в стадии бета-версии.**

Начиная с версии **CS-Cart 4.6.1**, администраторы при создании товара могут выбрать **Тип товара**, который определяет, как будут работать :doc:`опции этого товара </user_guide/manage_products/options/index>`:

* *Простой товар* — варианты опций можно сгруппировать в :doc:`комбинации опций </user_guide/manage_products/options/option_combinations>`. Это старое поведение.

* *Настраиваемый товар* — из вариантов опций можно создать :doc:`вариации товара <product_variations>`. Это новое поведение, которое появилось в версии 4.6.1.

.. fancybox:: img/product_type.png
    :alt: Тип товара выбирается при создании товара и определяет, как будут работать опции этого товара.

.. note::

      При необходимости вы сможете :doc:`превратить простой товар в настраиваемый <convert_combinations_to_variations>`, но не наоборот. Поэтому важно знать, чем комбинации опций отличаются от вариаций товара.

==================================
Комбинации опций и вариации товара
==================================

На витрине вариации товаров и комбинации опций выглядят почти одинаково. Главные отличия — в панели администратора: по сравнению с комбинациями опций, вариации товара гораздо ближе к самостоятельным товарам.

.. list-table::
    :header-rows: 1
    :stub-columns: 1
    :widths: 5 10 10

    *   -   
        -   Комбинации опций
        -   Вариации товаров
    *   -   Отображение на витрине
        -   Покупатели выбирают нужную комбинацию опций на странице товара. Чтобы выбрать комбинацию, нужно выбрать вариант у каждой опции. Без модификаций кода CS-Cart нет возможности показать на странице товара все доступные комбинации опций одновременно.
        -   Покупатели могут выбрать нужную вариацию на странице товара, переключая варианты опций. Но администратор может :doc:`создать блок со всеми вариациями товара на странице этого товара </user_guide/look_and_feel/layouts/blocks/variations>`. Так покупатели могут на странице товара увидеть все доступные вариации и их количество на складе, а также добавить разные вариации в корзину без необходимости вручную выбирать другие варианты у опций.
    *   -   Уведомление о наличии товара
        -   Покупатели могут подписаться на уведомление о наличии товара, только если количество товара на складе отслеживается без учёта опций. Подписаться на уведомление об определённой комбинации опций нельзя.
        -   Покупатели могут подписаться на уведомление об определённой вариации товара.
    *   -   Процесс создания
        -   Комбинации опций можно создавать по одной или генерировать автоматически. При автоматической генерации создаются все возможные комбинации для товара, а данные об уже существующих комбинациях не перезаписываются.
        -   До CS-Cart 4.7.2 для добавления товару новой вариации приходилось заново генерировать все вариации этого товара (данные о существующих вариациях при этом перезаписывались). Теперь есть возможность выбрать, какие из возможных вариаций товара должны существовать в магазине, а данные уже существующих вариаций при этом не теряются.
    *   -   База данных
        -   Комбинации опций хранятся в отдельной таблице, которая называется ``cscart_product_options_inventory``.
        -   Вариации товаров хранятся в таблице ``cscart_products`` вместе с остальными товарами.
    *   -   Экспорт/Импорт
        -   Комбинации опций экспортируются и импортируются отдельно от товаров, в другом CSV-файле.
        -   Вариации товаров экспортируются и импортируются вместе с остальными товарами, в том же CSV-файле.
    *   -   Изображения
        -   У каждой комбинации опций есть только одно изображение. Оно заменяет главное изображение товара, когда выбрана комбинация опций.
        -   У каждой вариации товара может быть одно главное и несколько дополнительных изображений.
    *   -   Цена и рекомендованная цена
        -   Для комбинации опций нельзя задать фиксированную цену. Вместо этого к цене товара применяются модификаторы цены от тех вариантов опций, которые входят в комбинацию. Рекомендованная цена одна для всех комбинаций.
        -   У каждой вариации товара есть своя фиксированная цена; если у вариантов опций указаны модификаторы цены, то они повлияют на цену вариации. У каждой вариации своя рекомендованная цена.
    *   -   Характеристики товаров
        -   У всех комбинаций опций товара одинаковые характеристики.
        -   У каждой вариации товара могут быть свои значения характеристик.
    *   -   Оптовые скидки
        -   Оптовые скидки, заданные для товара, применяются ко всем комбинациям опций. С помощью настройки можно выбрать, считать ли разные комбинации опций разными товарами при расчёте оптовых скидок.
        -   Оптовые скидки можно задать по отдельности для каждой вариации товара.
    *   -   Поиск
        -   Нельзя искать конкретные комбинации опций; можно искать только товары.
        -   С помощью **Расширенного поиска** можно искать вариации товаров.
    *   -   Параметры доставки
        -   Для комбинации опций нельзя задать фиксированный вес. Вместо этого к весу товара применяются модификаторы веса от тех вариантов опций, которые входят в комбинацию. Другие параметры доставки являются общими для всех комбинаций опций.
        -   У каждой вариации товара есть свой фиксированный вес; если у вариантов опций указаны модификаторы веса, то они повлияют на вес вариации. Другие свойства также можно менять по отдельности у каждой вариации товара.
    *   -   Налоги
        -   Налоги, заданные для товара, применяются ко всем комбинациям опций этого товара.
        -   Налоги нужно выбирать для каждой вариации товара по отдельности.
