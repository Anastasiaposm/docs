Прайс-лист
----------

Настройка модуля
================

#. Установите модуль **Экспорт в Яндекс.Маркет** в панели администратора.

#. Создайте новый прайс лист или откройте редактирование существующего на странице **Модули → Экспорт в Яндекс.Маркет**.

Доступные настройки
===================


Общие
*****

.. fancybox:: img/yml_base.png
    :alt: Основные настройки

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Авторизация

        -   Если настройка включена, то доступ к прайс-листу будет возможен только по ключу доступа

    *   -   Ключ доступа

        -   Ключ для доступа к прайс-листу при включенной настройке авторизации

    *   -   Имя прайс-листа

        -   Имя, которое будет отображаться в списке прайс-листов

    *   -   Название магазина

        -   Название магазина для YML-файла.

    *   -   Кодировка экспортируемого файла

        -   UTF-8 или Windows-1251

    *   -   Показать журнал после экспорта

        -   После генерации прайс-листа будет показан log-файл


Экспорт данных
**************

.. fancybox:: img/yml_export_data.png
    :alt: Экспорт данных

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Ссылка UTM

        -   Добавьте UTM метки для сбора статистикит (|yml_utm|). В ссылку можно вставить данные по товару.
            Для этого необходимо указать название поля в фигурных скобках, например {product_code} будет заменен на код продукта

    *   -   Экспортировать только товары, которые есть в наличии

        -

    *   -   Экспортировать товары с 0 ценой

        -

    *   -   Минимальный процент скидки

        -   Если скидка на товар (заданная через ``<oldprice>``) меньше этого процента, то она не будет отображаться в Яндекс.Маркете как скидка.

    *   -   Минимальная цена

        -   В Яндекс.Маркет выгрузятся только те товары, у которых цена выше указанной здесь.

    *   -   Максимальная цена

        -   В Яндекс.Маркет выгрузятся только те товары, у которых цена выше указанной здесь.

    *   -   Размер комиссии

        -   Минимальный размер комиссии, взимаемой за одно товарное предложение. Значение должно быть целым положительным числом, при этом две последние цифры — это сотая и десятая часть процентов. Подробнее читайте `в документации Яндекса <https://yandex.ru/support/partnermarket/bid-cbid.html>`_.

Экспортируемые поля
*******************

.. fancybox:: img/yml_export_fields.png
    :alt: Экспорт полей

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Вес

        -   Выгружать вес товара, который указан для товара во вкладке "Параметры доставки" редактирования товара

    *   -   Габаритные размеры

        -   Выгружать габариты. Размеры товара будут склеены из параметров "Длина коробки", "Ширина коробки" и "Высота коробки", которые указываются во вкладке "Параметры доставки"

    *   -   Не добавлять элемент "скачиваемые" для цифровых товаров

        -   Если настройка включена, то цифровым товарам из CS-Cart не будет добавлен элемент downloadable. Этот элемент обозначает товар, который можно скачать, и заставляет товарное предложение показываться во всех регионах независимо от регионов доставки, указанных магазином на странице "Параметры размещения".


Изображения
***********

.. fancybox:: img/yml_images.png
    :alt: Изображения

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Тип изображения

        -   В прайс-лист могут быть выгружены полные изображения или уменьшенные копии (иконки). Иконки будут созданы автоматически.

    *   -   Ширина иконки

        -   Размер изображения для выгрузки в Яндекс.Маркет

    *   -   Высота иконки

        -   Размер изображения для выгрузки в Яндекс.Маркет



Варианты доставки
*****************

.. fancybox:: img/yml_delivery.png
    :alt: Варианты дотавки

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Возможность купить товар в розничном магазине

        -   <store>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   Возможность зарезервировать товар и забрать его самостоятельно

        -   <pickup>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   Разрешить доставку

        -   <delivery>

            Значение должно соответствовать настройкам в личном кабинете Яндекс.Маркет

    *   -   Варианты доставки

        -   <delivery-options>

            Общие условия доставки. Эти условия распространяются на все предложения магазина за исключением тех, для которых указаны индивидуальные условия доставки. |yml_delivery_option|

            .. important::

                Внимание! Указание <delivery-options> в составе элемента <shop> обязательно. Если элемент не указан, при проверке прайс-листа выдается ошибка.


Категории
*********

.. fancybox:: img/yml_categories.png
    :alt: Категории

.. list-table::
    :stub-columns: 1
    :widths: 20 30

    *   -   Экспорт скрытых категорий

        -   Если включить настройку, то товары будут экспортироваться, даже если они находятся в скрытых категориях.

    *   -   Отключить лог для исключенных категорий

        -   Если включить настройку, то в логе генерации YML-файла не будут перечислены товары, которые не были добавлены в YML-файл из-за того, что категория была исключена.

    *   -   Исключить категории

        -   Если вы исключите какую-то категорию, то товары, которые находятся в этой категории или её подкатегориях, экспортироваться не будут.


.. |yml_utm| raw:: html

   <!--noindex--><a href="https://yandex.ru/support/direct/statistics/url-tags.xml#utm" target="_blank" rel="nofollow">метки UTM</a><!--/noindex-->


.. |yml_category| raw:: html

   <!--noindex--><a href="https://yandex.ru/support/partnermarket/guides/clothes.xml#h6" target="_blank" rel="nofollow">категория товарного предложения</a><!--/noindex-->


.. |yml_delivery_option| raw:: html

   <!--noindex--><a href="https://yandex.ru/support/partnermarket/elements/delivery-options.xml" target="_blank" rel="nofollow">Опции доставки</a><!--/noindex-->

