***************************************
Настраиваем Google reCAPTCHA в магазине
***************************************

1. Откройте страницу **Модули → Управление модулями**.

2. Модуль :doc:`Google reCAPTCHA <index>` установлен по умолчанию, остаётся только его настроить. Нажмите на название модуля.

.. image:: img/google_recaptcha_addon.png
    :align: center
    :alt: Модуль Google reCAPTCHA в CS-Cart и Multi-Vendor.

3. Появится всплывающее окно с настройками модуля:

   * **Site key** (ключ сайта) — один из двух обязательных реквизитов; нужен для отображения виджета reCAPTCHA в магазине.

   * **Secret** — один из двух обязательных реквизитов; магазин использует его, чтобы подключиться к серверу reCAPTCHA и проверить, является ли пользователь ботом. В целях безопасности, Google рекомендует никому не сообщать свой **secret**.

   .. note::

       Получить **site key** and **secret** можно `на этой странице <https://www.google.com/recaptcha/admin>`_. Google предлагает `более подробные инструкции на английском языке <https://developers.google.com/recaptcha/docs/domain_validation>`_.

   * **Оформление** — цвета виджета reCAPTCHA в вашем магазине. Можно выбрать *Светлое* (Light) или *Тёмное* (Dark) оформление. Примеры того, как виджет выглядит в разном оформлении, можно найти в `вопроснике по Google reCAPTCHA <https://developers.google.com/recaptcha/docs/faq#can-i-customize-the-recaptcha-widget>`_.

   * **Размер** — размер виджета reCAPTCHA в важем магазине. Можно выбрать *Обычный* или *Компактный* размер.

   * **Тип** — тип теста CAPTCHA, который будет предложен пользователю, если нужно дополнительное подтверждение, что пользователь — не бот. Тест может быть на распознавание изображений (*Изображение*) или звуковой (*Аудио*).

4. Нажмите кнопку **Сохранить**.

.. image:: img/google_recaptcha_settings.png
    :align: center
    :alt: Настройки модуля Google reCAPTCHA.

5. Откройте страницу **Настройки → Антибот (CAPTCHA)** и выберите, когда и как тесты CAPTCHA будут появляться в вашем магазине:

   * **Использовать для** — места, где будут появляться тесты CAPTCHA; отметьте галочками те места, где должны появляться тесты.

   * **Отключить антибот для авторизованных пользователей** — если поставить галочку, то пользователю, вошедшему в свою учетную запись, не придется подтверждать, что он не бот. 

   * **Отключить антибот после первого правильного ответа** — если поставить галочку, то пользователю понадобится подтвердить, что он не бот, только один раз за сессию.

6. Нажмите кнопку **Сохранить**. После этого тесты CAPTCHA должны появиться в выбранных местах и работать так, как указано в настройках.

.. important::

    Остальные настройки с этой страницы неактуальны, потому что модуль **Google reCAPTCHA** заменяет собой стандартный CAPTCHA.

.. image:: img/image_verification.png
    :align: center
    :alt: Настройки, которые определяют, где будет появляться CAPTCHA.
