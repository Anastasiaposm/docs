4.3.10 → 4.4.1
--------------

    [+] — Новое

    [*] — Изменение

    [!] — Исправлена ошибка


[+] Модули: Панель администратора: Теперь по умолчанию поддерживаются собственные иконки модулей.

[+] Модули: Divido: Способ оплаты Divido добавлен в виде модуля.

[+] Модули: Прайс-лист для Google Base: Теперь можно экспортировать цены, которые включают в себя налоги.

[+] Модули: Платежи через PayPal: Появилась возможность передавать в PayPal standard код страны и номер телефона.

[+] Модули: Возврат товаров: Подарочные сертификаты: Код подарочного сертификата, выданного покупателю, который оформил возврат, теперь отображается на странице возврата.

[+] Модули: Вход через соцсети: Российские социальные сети вынесены в отдельный модуль “Вход через соцсети: поддержка российских соцсетей”. Он работает, только если включен модуль “Вход через соцсети”.

[+] Модули: Калькулятор стоимости доставки eDost.ru: Обновлены службы доставки.

[+] Модули: Карты: Добавлено отображение информации о доставке на странице товара.

[+] Ядро: Добавлен детектор изменений в файлах ядра. 
[+] Дизайн: Темы: Теперь у каждой темы могут быть собственные языковые переменные.

[+] Дизайн: Темы: Теперь при обновлении перезаписываются только файлы тем, идущих с CS-Cart по умолчанию. Темы теперь могут использовать файлы своей родительской темы. При установке темы файлы из родительской темы больше не копируются.

[+] Документы: Добавлен редактор шаблонов документов (почтовых уведомлений, счетов, накладных и т.д.)

[+] Управление заказами: Добавлена возможность назначать администраторов, ответственных за заказ.

[+] Управление заказами: Добавлена возможность копировать заказы.

[+] Управление заказами: Название компании покупателя теперь появляется под именем покупателя в списке заказов.

[+] Страницы: Теперь если ввести адрес Ссылки в адресную строку браузера, то вы попадете на страницу, на которую ведет Ссылка.

[+] Способы доставки: FedEx: Обновлены настройки способа доставки и службы доставки.

[+] Центр обновлений: Обратная совместимость: Теперь имена функций проверяются перед обновлением. Это сделано для того, чтобы после обновления имена функций из третьесторонних модулей не совпали с именами функций, добавленных в обновлении.


[*] Модули: Конструктор прайс-листов: Теперь можно выбрать макет прайс-листа.

[*] Модули: Прайс-лист для Google Base: Добавлены новые атрибуты товаров. Они доступны в конструкторе прайс-листов в макете google_export.

[*] Модули: Платежи через PayPal: Теперь можно выбрать, нужно ли автоматически менять статус заказа после частичного возврата денег на PayPal.

[*] Модули: Бонусные баллы: Теперь можно выбрать, при каких статусах заказа начисляются бонусные баллы.

[*] Модули: CommerceML: Добавлена возможность загрузки веса из реквизитов.

[*] Модули: CommerceML: Добавлена выгрузка артикула комбинаций опций.

[*] Модули: CommerceML: Добавлено конвертирование на основе валют, указанных для товара в файле offers.xml.

[*] Модули: CommerceML: Настройки синхронизации теперь можно задать отдельно для каждой витрины.

[*] Модули: Города: Теперь модули “Города”, “Служба доставки — СДЭК” и “Калькулятор стоимости доставки eDost.ru” используют одну таблицу.

[*] Модули: Почта России: Обновлена служба доставки “Почта России (pochta.ru)”.

[*] Модули: Российские способы оплаты: Удален устаревший способ оплаты QIWI. Вместо него используйте отдельный модуль “Qiwi REST платежная система”.

[*] Модули: Российские способы оплаты: Яндекс.Деньги: Добавлена ссылка для возврата на страницу заказа после оплаты.

[*] Модули: СПСР-Экспресс: Добавлена возможность выбрать тариф.

[*] Модули: Яндекс.Доставка: Добавлена возможность оформления отгрузки в панели администратора.

[*] Модули: Яндекс.Доставка: Добавлена настройка выбора города отправки (Москва или Санкт-Петербург).

[*] Модули: Яндекс.Доставка: Добавлена поддержка формата JSON.

[*] Ядро: В шаблоны update добавлен атрибут 'enctype'.

[*] Дизайн: Модули: Баннеры: В демо-данных старые баннеры заменены на новые.

[*] Дизайн: E-mail уведомления: Изменен внешний вид уведомлений.

[*] Дизайн: Темы: Русский стиль вынесен в отдельную тему Bright.

[*] Характеристики: Группы характеристик: Теперь характеристики и группы характеристик отображаются отдельными списками.

[*] Установка: Темы: Теперь после установке по умолчанию включена тема Bright, а не Responsive.

[*] Производительность: Каталог: Опции: Процесс применения модификаторов цены/веса вариантов опций был улучшен.

[*] Настройки: Внешний вид: Убраны настройки, отвечавшие за количество заказов, товаров и страниц с контентом, показываемых на одной странице.

[*] Отгрузки: Убрана настройка “Разрешить разделение заказа на несколько отгрузок”. Теперь разделение на отгрузки разрешено по умолчанию. Интерфейс был изменен так, чтобы можно было создать одну отгрузку или несколько.


[!] Модули: Карта сайта для Yandex и Google: На карте сайта могли появиться ссылки на другие витрины. Исправлено.

[!] Модули: Searchanise: При удалении характеристики, для которой был создан фильтр, в логе появлялся PHP-нотис. Исправлено.

[!] Модули: Tвигмо: Убрана уязвимость в коде.

[!] Модули: Водяные знаки: Поддержка HiDPI: Для HiDPI-изображений не создавались версии с водяными знаками. Исправлено.

[!] Модули: CommerceML: При включенном модуле сбрасывались характеристики у товаров после изменения названий вариантов этих характеристик. Исправлено.

[!] Модули: Почта России: Поле “Использовать наложенный платеж” на бланке называлось неправильно. Исправлено.

[!] Модули: Российские способы оплаты: В счете не было информации о размере скидки на заказ. Исправлено.

[!] Модули: Российские способы оплаты: Исправлен внешний вид счета.

[!] Модули: Российские способы оплаты: Яндекс.Деньги: При оплате через терминал заказы получали статус “Незавершенный”. Исправлено.

[!] Модули: СДЭК: Дата передавалась в СДЭК в неправильном формате. Исправлено.

[!] Модули: Яндекс.Маркет: На Яндекс.Маркете не отображались способы доставки, если пунктом назначения была Москва или Санкт-Петербург. Исправлено.

[!] Модули: Яндекс.Маркет: Не выводилась информация о некоторых ошибках при изменении статуса заказа. Исправлено.

[!] Модули: Яндекс.Маркет: Невозможно было сделать заказ на Яндекс.Маркете, если для способа доставки не был выбран тип доставки. Исправлено.

[!] Блоки: Кэш: Smarty-блоки кэшировались по умолчанию; в результате на страницах мог появляться неактуальный контент. Исправлено.

[!] Оформление заказа: Данные, переданные в массиве "user_data" могли привести к нежелательным изменениям в заказе. Исправлено.

[!] Дизайн: Макеты: Можно было выбрать для секции ширину 16, даже если ширина макета была 12. Исправлено.

[!] Дизайн: Вкладки товара: Некорректно закрывалось окно при создании нового блока во вкладке. Исправлено.

[!] Дизайн: Модули: Email-маркетинг: Высота кнопки со стрелкой в форме подписки была неправильной. Исправлено.

[!] Дизайн: Тема Responsive: Стили: Greeny: Шрифт заголовков не поддерживал кириллицу. Шрифт был заменен.

[!] Управление заказами: Привилегии: Для работы привилегии “Создание заказа” обязательно требовалась привилегия “Редактирование заказа”. Исправлено.

[!] Характеристики: Характеристика была недоступна для товара, если она должна была отображаться только для дополнительной категории. Исправлено.

[!] Опции: Разрешенные комбинации: Последовательные опции: Неправильно отображались разрешенные комбинации для товара. Исправлено.

[!] Промо-акции: Безопасность: Названия и описания промо-акций неправильно экранировались. Это открывало возможность для XSS. Исправлено.

[!] Способы доставки: Надбавка: Налоги: Могла отображаться неправильная стоимость доставки. Исправлено.

[!] Центр обновлений: Скрипт восстановления не создавался, если на директорию скрипта были выставлены неправильные права. Исправлено.

[!] {#6451} Модули: SEO: Региональные ссылки не содержали обратных ссылок. Исправлено.

[!] {#6458} Экспорт/Импорт: Товары: Характеристики: Неправильно работал импорт характеристик с одинаковыми именами при использовании нескольких витрин. Исправлено.

[!] {#6488} Производительность: Товары: Оптимизирован процесс обновления товара — теперь при этом не запрашивается лишняя информация.

[!] {#6496} Модули: Платежи через PayPal: После ответа IPN дополнительный сбор исключался из общей суммы заказа. Исправлено.

[!] {#6506} Дизайн: Блоки: Бренды: Не работало затемнение изображений в блоке с брендами. Исправлено.

[!] {#6507} Модули: Социальные кнопки: Pinterest: Пробелы в описаниях и названиях товаров заменялись на плюсы. Исправлено.

[!] {#6522} Заказы: Уведомления: Не работали галочки “Информировать покупателя” и “Уведомить отдел оформления и обработки заказов” на странице заказа. Исправлено.
