*************
4.6.1 → 4.6.2
*************

==================================
Новая функциональность и улучшения
==================================

[+] Модули: Вариации товаров [Beta]: Добавлена возможность продавать вариации как цифровые товары.

=========================================
Изменения в существующей функциональности
=========================================

[*] Магазины: Со страницы "Магазины" убраны все поля поиска, кроме поиска по названию витрины.

==================
Исправления ошибок
==================

[!] Безопасность: Robots.txt Инструкции robots.txt можно было изменить без авторизации, если был известен URL панели администратора. Исправлено.

[!] Демо-данные: Происходила ошибка при копировании заказа с купоном SALE-20, потому что название купона должно быть sale-20. Исправлено.

[!] Дизайн: Оформление заказа: Если было включено отображение налогов на странице оформления заказа, то при выборе способа доставки перед ценой со включенным налогом отображалась лишняя скобка. Исправлено.

[!] Дизайн: Товары: Количество знаков после запятой у валюты не влияло на количество знаков после запятой у рекомендованной цены товара в панели администратора. Исправлено.

[!] Маркетинг: Промо-акции: Если у промо-акции было условие "Количество товаров в корзине" или "Предварительная стоимость заказа" с вариантом "в списке" или "не в списке", то можно было указать только одно число, а все, что было после запятой, обрезалось. Исправлено.

[!] Модули: Boxberry: На детальной странице отгрузки неправильно отображался текущий статус отправления. Исправлено.

[!] Модули: Google reCAPTCHA: Ссылка на страницу Google в настройках модуля устарела и вела на страницу с ошибкой 404. Исправлено.

[!] Модули: RetailCRM [Beta]: YML-файл для retailCRM создавался с полем purchase_price вместо purchasePrice. Исправлено.

[!] Модули: RetailCRM [Beta]: Если заказ в retailCRM был создан с некоторыми незаполненными полями, то при синхронизации могла возникнуть ошибка. Исправлено.

[!] Модули: RetailCRM [Beta]: Логирование синхронизации с retailCRM не работало, если родительская директория для лога не была создана. Исправлено.

[!] Модули: RetailCRM [Beta]: Один магазин в retailCRM мог быть связан с несколькими витринами в CS-Cart, что приводило к проблемам с синхронизацией заказов. Исправлено.

[!] Модули: Определение местоположения: При заходе на клиента на сайт мог не определиться его город (например, проблема возникала для Санкт-Петербурга). Исправлено.

[!] Модули: Яндекс.Доставка: Если время работы точки самовывоза разбивалось на две части обеденным перерывом, то режим работы точки самовывоза на странице заказа отображался неправильно. Исправлено.

[!] Опции: Запрещенные комбинации: Если у товара была опция с типом "Радиогруппа", и все варианты этой опции были запрещены, то товар нельзя было добавить в корзину. Исправлено.

[!] Редактирование заказа: Добавление товаров: Если у товара не было изображения, то при вводе названия товара вместо изображения отображалась пустая область. Исправлено.

[!] Редактор документов: Счет: Поля профиля: Если у поля профиля в названии поля был символ "." или "-", то это поле неправильно отображалось на счете. Исправлено.

[!] Товары: Макеты: Если администратор изменял содержимое блока с типом заполнения “Вручную” у конкретного товара на вкладке "Макеты", то эти изменения сохранялись только для выбранного языка. Исправлено.

[!] Ядро: API: Не работала проверка на существование товара или категории в базе данных. Исправлено.

[!] {#6747} Модули: Платежи через PayPal: Кавычки и некоторые другие символы в названиях товаров неверно отображались на стороне PayPal при оплате через PayPal Standard. Исправлено.

[!] {#6825} Ядро: Страны: При указании определённых параметров возникала ошибка запроса. Исправлено.
