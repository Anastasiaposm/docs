4.3.7 → 4.3.8
-------------

    [+] — Новое

    [*] — Изменение

    [!] — Исправлена ошибка


[+] Модули: RSS-лента: Блог: RSS-лента добавлена в записи блога.

[+] Модули: Отзывы и комментарии: Хуки добавлены в функции "fn_get_discussion()" и "fn_get_discussions()".

[+] Модули: Платежи через PayPal: Филиппинское песо добавлено в список валют PayPal Pro.

[+] Модули: Поиск ближайших магазинов: Ключ "store_location_id" добавлен в качестве ключа массива.

[+] Способы доставки: Australia Post: Интеграция с Australia Post обновлена. Теперь тариф рассчитывается правильно.

[+] Способы доставки: Canada Post: Интеграция с Canada Post обновлена, добавлены новые службы и настройки.

[+] Способы оплаты: AuthorizeNet.Aim: URL шлюза сервиса оплаты обновлены для работы с Akamai CDN.

[+] Хуки: Группы пользователей: Хук добавлен в функцию "fn_get_usergroups".

[+] Хуки: Добавлен новый хук для обновления параметров в менеджере блоков.

[+] Хуки: Добавлен хук для информации о доставке на детальной странице заказа.

[+] Хуки: Характеристики товара: Добавлен новый хук для вариантов характеристик.

[+] Модули: СПСР: Добавлена настройка выбора тарифа.

[+] Модули: Российские способы оплаты: Обновлен API способ оплаты Робокассы.

[+] Модули: YML экспорт: Добавлена выгрузка единиц измерений.

[+] Модули: YML экспорт: Добавлено новое поле для описания товара.


[!] Модули: СДЭК: Не выполнялся расчет доставки для Казахстана. Исправлено.

[!] Модули: Российские способы оплаты: Неправильно подсчитывался хеш проверки. Исправлено.

[!] Модули: Российские способы оплаты: Не проходила оплата Альфа-Клик через Яндекс. Исправлено.

[!] Модули: Яндекс.Маркет: Не экранировались символы для полей брендов и категорий. Исправлено.

[!] Модули: Яндекс.Метрика: Цели в Yandex.Метрике не создавались. Исправлено.

[!] Ajax: Панель администратора: Витрины не загружались в поле "Выберите магазин", если количество витрин превышало 5 штук. Исправлено.

[!] API: Опции товара: Обновление изображений вариантов опций не работало. Исправлено.

[!] Exim: Товары: Промо-текст обновлялся неправильно, когда администратор импортировал его из файла CSV в магазин с несколькими витринами. Исправлено.

[!] JavaScript: Редакторы: TinyMCE: В браузере Internet Explorer 11 возникали ошибки. Исправлено.

[!] Searchanise: Панель администратора Searchanise не открывалась, если в качестве разделителя тысяч для валюты использовался апостроф ('). Исправлено.

[!] Блоки: Кэширование: Smarty-блоки кэшировались, в результате чего пользователи видели неправильное содержимое. Исправлено.

[!] Дизайн: Responsive: Заголовок блока "Главное содержимое" отображалось неправильно, если для него была выбрана оболочка "Важная секция". Исправлено.

[!] Дизайн: Responsive: Оформление заказа: Если для выбора способа доставки были заданы типы "Показать" или "Выбрать", появлялись ошибки. Исправлено.

[!] Дизайн: Блоки: Вертикальное меню: Пункты меню скрывались за другими элементами интерфейса. Исправлено.

[!] Дизайн: Названия семейств шрифтов с пробелами неправильно экранировались в скомпилированном файле CSS. Исправлено.

[!] Дизайн: Оформление заказа: На странице успешного оформления заказа была лишняя точка. Исправлено.

[!] Дизайн: Панель администратора: Цена последнего просмотренного товара отображалась неправильно. Исправлено.

[!] Дизайн: Редактировать контент: WYSIWYG: Кнопки добавления видео и изображений были недоступны. Исправлено.

[!] Модули: SEO: SEO-имена общих (расшаренных на несколько витрин) товаров сбрасывались после удаления витрины, на которую они были расшарены. Исправлено.

[!] Модули: SEO: Экспорт/импорт: SEO-имена импортированных товаров дублировались. Исправлено.

[!] Модули: Водяные знаки: Если изображение водяного знака было слишком широким, во время генерации эскизов могли возникать ошибки. Исправлено.

[!] Модули: Конструктор форм: Теги: Содержимое страницы отправки формы не обновлялось при включенном модуле "Теги". Исправлено.

[!] Модули: Обратный звонок: Заголовок всплывающего окна "Заказать обратный звонок" был неправильным. Исправлено.

[!] Модули: Отзывы и комментарии: При отправке имейлов возникала ошибка, если использовался Yandex SMTP. Исправлено.

[!] Модули: Переводы: При удалении модулей, которые использовали Scheme 3.0 и хранили переменные в addon.xml, возникали PHP-сообщения. Исправлено.

[!] Отчеты о продажах: Отчеты по категориям работали неправильно. Исправлено.

[!] Оформление заказа: Режим виджета: При вводе неправильных данных для входа на шаге оформления заказа "Войти" товары пропадали из корзины. Исправлено.

[!] Панель администратора: Отчеты о продажах: Количество товаров в отчетах могло быть разным для одного и того же месяца при просмотре отчета в режимах "Текущий год" и "Текущий месяц". Исправлено.

[!] Резервное копирование: Уведомления не отображались. Исправлено.

[!] Способы оплаты: Rocketgate-Native: Всем неавторизованным покупателям присваивался одинаковый Customer ID на стороне сервиса оплаты. Исправлено.

[!] Товары: Характеристики: Если в магазине было много характеристик товаров, массовое сохранение товаров в списке товаров в панели администратора выполнялось слишком долго. Исправлено.

[!] Товары: Характеристики: Значение характристики товара типа "Список вариантов > Число" отображалось без округления. Исправлено.

[!] Управление заказами: Невозможно было оставить пустыми поля имени, фамилии и телефона покупателя. Исправлено.

[!] Управление заказами: При навигации по результатам поиска с помощью кнопок Вперед/Назад на странице объекта могли отображаться неправильные результаты поиска. Исправлено.

[!] Ядро: Сессия: Невозможно было авторизоваться после переадресации на поддомен с витриной, настроенной на безопасное соединение. Исправлено.

[!] Ядро: Сессия: Сессии запускались в консольном режиме, вызывая предупреждения и переполнение таблицы сессий. Исправлено.

[!] {#6330} Ядро: Макеты: У переменной шаблона "location_data" было неправильное значение "location_id" для кастомных макетов. Исправлено.

[!] {#6334} Управление заказами: Промо-акции: Подарочные сертификаты: Если у товара в качестве бонуса был подарочный сертификат, после каждого обновления заказа создавался новый сертификат. Исправлено.

[!] {#6340} Ядро: Математические функции, округляющие значения вверх и вниз с требуемой точностью, возвращали неверные результаты для отрицательных чисел. Исправлено.

[!] {#6344} Ядро: Файлы: Названия файлов со специальными знаками не санитизировались. Исправлено.

[!] {#6345} {#6346} Оформление заказа: Карты Visa с 13-значным номером и некоторые карты Maestro не распознавались. Исправлено.

[!] {#6347} Оформление заказа: Карты Diners Club не принимались. Исправлено.

[!] {#6360} Модули: Платежи через PayPal: Обязательные поля профиля можно было оставить пустыми при использовании PayPal Express Checkout. Исправлено.
