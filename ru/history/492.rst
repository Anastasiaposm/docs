*****
4.9.2
*****

==================================
Новая функциональность и улучшения
==================================

[+] Модули: eDost: Добавлены новые службы доставки.

[+] Модули: Мобильное приложение: Появилась возможность выбрать метод изменения размера изображений.
[+] Модули: Мобильное приложение: добавлены недостающие размеры изображений для устройств Apple.

[+] Модули: Простое оформление заказа (Beta): Добавлено заполнение полей адреса при оформлении заказа из настроек местоположения по умолчанию.

[+] Модули: Простое оформление заказа (Beta): Теперь в форме оформления заказа можно автоматически заполнять информацию о себе данными, хранящимися на мобильном устройстве.

[+] Профили: Теперь на странице редактирования профиля на витрине у сторонних разработчиков появилась возможность добавить функциональность загрузки файлов.

[+] Редактор документов: Теперь можно использовать собственные поля профиля из раздела "Информация о продавце" при редактировании документов.

[+] Товары: Массовое редактирование: Время загрузки списка категорий уменьшено.

[+] Хуки: Заказы: Редактирование заказа: Добавлен хук для кнопок управления таблицей товаров.

[+] Хуки: Панель администратора: Товары: Добавлен новый хук, который позволяет вставлять дополнительные строки в список товаров.

[+] Хуки: Ядро: Был добавлен хук для загрузчика страницы store_closed.html.

[+] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): Вариации товаров: Добавлена возможность задавать свои цену и наличие у товарных предложений-вариаций.

[+] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): Добавлена возможность экспортировать и импортировать главные товары и товарные предложения.

[+] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): Экспорт/импорт: Добавлена возможность создавать товарные предложения на основе списка общих товаров через импорт.

[+] Multi-Vendor Plus: Модули: Привилегии продавцов: Способы оплаты: Группы пользователей: Добавлена возможность ограничивать использование способов оплаты по группам пользователей продавцов.

=========================================
Изменения в существующей функциональности
=========================================

[*] Модули: BillriantPay: В запросы к сервису добавлен идентификационный код платформы.

[*] Модули: SMS-уведомления: Модуль был обновлён.

[*] Модули: АТОЛ Онлайн: Добавлена поддержка ФФД 1.05 и API 4й версии.

[*] Модули: Отзывы и комментарии: В зависимости от настроек модуля, теперь пользователи, не вошедшие в учётную запись, могут оставлять комментарии.

[*] Модули: Поиск от Searchanise: Теперь после нажатия кнопки подключения магазина к Searchanise есть индикация прогресса.

[*] Модули: Простое оформление заказа (Beta): Выбор пунктов самовывоза на карте стал удобнее.

[*] Способы оплаты: FuturePay: Способ оплаты объявлен устаревшим.

[*] Способы оплаты: OneKPay переименован в BillriantPay.

[*] Ядро: Улучшена проверка минимального значения PHP директивы memory_limit.

[*] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): При удалении главного товара его дочерние товары у продавцов не удалялись. Исправлено.

==================
Исправления ошибок
==================

[!] Дизайн: Большая картинка: Если у товара был выбран шаблон “Большая картинка”, то под подвалом страницы было пустое пространство. Исправлено.

[!] Дизайн: Корзина: Итоговая стоимость на странице корзины отображалась с учетом доставки даже при выключенной настройке "Вычислять приблизительную стоимость доставки на странице корзины". Исправлено.

[!] Дизайн: Оформление заказа: При смене способа оплаты стиралось значение в поле "Примечания покупателя". Исправлено.

[!] Дизайн: Панель администратора Некоторые шаблоны подключались между </head> и <body>. Исправлено.

[!] Заказы: Печать упаковочного реестра (pdf): Заголовок таблицы перекрывал содержимое таблицы при переносе на следующую страницу. Исправлено.

[!] Модули: CommerceML: Для всех витрин использовалось значение настройки "Выгружать с номера" от первой витрины. Исправлено.

[!] Модули: CommerceML: При импорте новых изображений существующим товарам из 1C эти изображения могли назначиться не товару, а другому объекту. Исправлено.

[!] Модули: CommerceML: При импорте товаров и опций товаров не добавлялся штрих-код. Исправлено.

[!] Модули: RetailCRM (Beta): При синхронизации заказов сбрасывались дополнительные параметры доставки, такие как пункты самовывоза, даже если способ доставки не менялся на стороне CRM. Исправлено.

[!] Модули: Unisender: Из-за параметра request_time не совпадало время запроса. Исправлено.

[!] Модули: Вариации товара (Beta): Количество родительского товара не обновлялось после импорта, если в импортируемом файле отсутствовало поле "Product id". Исправлено.

[!] Модули: Видео-помощь: Видео в разделе с помощью не отображались на планшетах. Исправлено.

[!] Модули: Деловые линии: Определение стоимости доставки при оформлении заказа занимало много времени, если использовалось одновременно несколько способов доставки с перевозчиком "Деловые линии". Исправлено.

[!] Модули: Деловые линии: Отсутствовал город назначения "Красногорск" с кодом области "MOS". Исправлено.

[!] Модули: Местоположение покупателя: Всплывающее окно с выбором города не показывало список городов, если блок "Местоположение покупателя" не был расположен в верхней панели сайта. Исправлено.

[!] Модули: Местоположение покупателя: Не определялся регион для городов, находящихся в составе республик. Исправлено.

[!] Модули: Определение местоположения: Не определялась стоимость доставки товара Почтой России, если не был указан почтовый индекс покупателя. Исправлено.

[!] Модули: Подарочные сертификаты: Невозможно было открыть редактирование подарочного сертификата, если в настройках валюты не был указан разделитель десятичных знаков. Исправлено.

[!] Модули: Поиск от Searchanise: При загрузке Searchanise возникала ошибка JavaScript. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Google reCaptcha: Если анти-бот проверка была включена на странице оформления заказа, то нельзя было оформить заказ, т.к. сама проверка не отображалась. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Боковая панель с информацией не обновлялась при изменении способа доставки. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Зависимости способов оплаты: Доступные способы оплаты не менялись при смене способа доставки. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Когда в списке пунктов самовывоза не было прокрутки, то выбранный пункт перемещался наверх в списке. Исправлено.

[!] Модули: Простое оформление заказа (Beta): На устройствах с сенсорным экраном перемещаться по карте можно было одним пальцем, а не двумя. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Невозможно было изменить введённые данные после неудачной попытки оформить заказ. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Отсутствовала иконка загрузки при размещении заказа. Исправлено.

[!] Модули: Простое оформление заказа (Beta): При нажатии на поле на мобильном устройстве происходило приближение страницы. Исправлено.

[!] Модули: Простое оформление заказа (Beta): Способы оплаты отображались некорректно, если у них было длинное описание. Исправлено.

[!] Модули: Расширенный импорт товаров: Если в пресете импорта было указано соответствие только для одной из характеристик, то значения у всех остальных сбрасывались. Исправлено.

[!] Модули: Расширенный импорт товаров: Если файл загружался по ссылке, которая не заканчивалась расширением (CSV или XML), то в некоторых случаях расширение файла определялось неправильно. Исправлено.

[!] Модули: Расширенный импорт товаров: Сохранение шаблона импорта приводило к критической ошибке, если название колонки содержало квадратные скобки. Исправлено.

[!] Модули: Российские способы оплаты: Яндекс Касса: Если покупатель совершал покупку и возвращался в магазин, не нажав "Назад", то его корзина не очищалась. Исправлено.

[!] Модули: Самовывоз: На странице с пунктами самовывоза не работала карта. Исправлено.

[!] Модули: Экспорт в Яндекс.Маркет: В выгрузке отсутствовал тег "adult", если он был указан для товара. Исправлено.

[!] Оформление заказа: В некоторых случаях модуль "Местоположение покупателя" подставлял неверное значение индекса, что вызывало ошибки в способе доставки "Почта России". Исправлено.

[!] Панель администратора: Всплывающие окна: На мобильных устройствах не отображалась секция с кнопками. Исправлено.

[!] Панель администратора: Модули: Не отображались иконки у пунктов меню, добавленных модулями. Исправлено.

[!] Панель администратора: При попытке открыть меню выбора витрины на мобильных устройствах могла возникнуть ошибка PHP Notice. Исправлено.

[!] Панель администратора: Товары: Содержимое некоторых вкладок на странице редактирования товара не было адаптивным. Исправлено.

[!] Панель администратора: Товары: Таблица разъезжалась, когда сторонние модули добавляли свои колонки. Исправлено.

[!] Регионы: Переводы названий регионов Греции отсутствовали для английского языка. Исправлено.

[!] Способы доставки: UPS: При включенном модуле Яндекс.Доставка не работала функциональность расчета стоимости доставки UPS. Исправлено.

[!] Способы оплаты: ePDQ: Переход на страницу оплаты ePDQ завершался с ошибкой, если скидка на товары была равна нулю. Исправлено.

[!] Товары: Запрещённые комбинации опций: Опция с типом "Флажок" оставалась доступной для выбора, даже если комбинация опций была запрещена. Исправлено.

[!] Товары: Комбинации опций: Все существующие комбинации опций товара удалялись при перестроении комбинаций. Исправлено.

[!] Товары: Характеристики: На странице редактирования товара характеристики из одной группы могли оказаться разбросанными вперемешку с другими группами. Исправлено.

[!] Ядро: JS: Не работали ссылки из выпадающего меню на странице Дизайн → Шаблоны. Исправлено.

[!] Ядро: Блокировки: В журнале событий отображались обработанные ошибки БД, чего не должно было быть. Исправлено.

[!] Ядро: Некорректно обрабатывались запросы к сервисам, использующим протокол http/2. Исправлено.

[!] Ядро: Транслитерация: Не все символы греческого языка преобразовывались в латиницу при создании SEO-имён. Исправлено.

[!] Ядро: Шаблоны почтовых уведомлений: Когда администратор открывал страницы редактирования некоторых почтовых уведомлений, могли возникать ошибки PHP Warning на версиях PHP 7.2 и новее. Исправлено.

[!] Multi-Vendor: Дизайн: Блоки: Рекомендуемые продавцы: У продавца отображалась запятая, даже если страна и город у продавца не были указаны. Исправлено.

[!] Multi-Vendor: Модули: Выплата долгов продавцов: При редактировании товара "Оплата задолженности" через панель администратора возникала ошибка PHP notice. Исправлено.

[!] Multi-Vendor: Модули: Премодерация данных продавцов: При включенном модуле "Премодерация данных продавцов" не работала настройка "Уменьшить количество товаров до нуля" в импорте товаров. Исправлено.

[!] Multi-Vendor: Оформление заказа: Если в профиле сделать какое-то поле обязательным, то отсутствовала возможность продолжить оформление заказа.

[!] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): Вариации товаров: При добавлении товарного предложения-вариации в  корзину не перезагружался блок мини-корзины. Исправлено.

[!] Multi-Vendor Plus: Модули: Общие товары для продавцов (Beta): Опции без модификаторов цены не переключались у товарных предложений при переключении опций у главного товара на витрине магазина. Исправлено.

[!] Multi-Vendor Plus: Модули: Оплата напрямую продавцам (Beta): Автоматически созданные записи о выводе средств с баланса после заказа не учитывали статус заказа; поэтому продавцы могли незаслуженно уходить в минус. Исправлено.

[!] REST API: Сущность Categories: При указании некоторых параметров не возвращались элементы сущности. Исправлено.
