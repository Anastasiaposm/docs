********************************
10. Добавить языковую переменную
********************************

О языках, переводах и языковых переменных
-----------------------------------------

CS-Cart — мультиязычная платформа. Поддержка нескольких языков осуществляется с помощью специальных «языковых переменных». Практически все статические тексты представляют из себя языковые переменные. Каждая языковая переменная имеет значение для разных языков. При этом описания объектов (товаров, страниц и т.д.) не являются языковыми переменными.

Все языковые переменные в коде платформы имеют специальный синтаксис и перед названием имеют два нижних подчёркивания, например ``{__("first_addon.video")}``.

Если у языковой переменной нет значения в базе данных, то она выглядит в браузере так:

    .. fancybox:: img/howto_addon_20.png
        :alt: Первый модуль

Крайне рекомендуется вставлять любые тексты с помощью языковых переменных. 

Вы можете просмотреть, создать или изменить языковые переменные на странице «Переводы» в панели администратора.

.. note::

    Администрирование → Языки → Перевод

Есть несколько способов создать языковые переменные:

*   В панели администратора.
    
    **Для исправления существующих текстов.**

*   С помощью импорта .po файла. 

    **Для массового перевода платформы**

*   С помощью модуля

    **Практически каждый модуль содержит и создаёт языковые переменные**

Создадим языковую переменную с помощью модуля
---------------------------------------------

Нам нужно создать языковую переменную ``first_addon.video`` . 

1.  Создайте po файл с именем вашего модуля в папке ``/var/langs`` для нужных языков.

    ``/var/langs/en/addons/first_addon.po`` - для английского языка

2.  В созданном файле добавьте заголовок и языковые переменные:

    .. literalinclude:: files/language_variables.po
        :language: po
        :linenos:

    Обязательно добавляйте значения для английского и русского языков.

    ``Addons::name::`` - используется для названия аддона. ``Addons::description::`` - используется для описания аддона. ``Languages::`` - используется для языковых переменных.

    В ``msgid`` указывается ид переменной, в ``msgstr`` указывается значение переменной, которое будет отображаться.

    .. note::

        При использовании в переводе ``"`` экранируйте их. В конце po файла обязательно оставляйте одну пустую строку.

3.  Переустановите модуль в панели администратора

    .. list-table::
        :header-rows: 1
        :widths: 30 30

        *   -   Было

            -   Стало

        *   -   .. image:: img/howto_addon_20.png
                    :alt: Первый модуль

            -   .. image:: img/howto_addon_21.png
                    :alt: Первый модуль

Отлично теперь Вы умеете добавлять языковые переменные. 

Идём дальше. 
