***************
5. Очистка кэша
***************

.. epigraph::

     Кэш или кеш (англ. cache) — ускоряет загрузку страниц.

     --  Daniil Bazhenov

Платформа CS-Cart кэширует практически всё: скрипты, cтили, шаблоны и т.д.

Если вы внесли изменения, а на странице в браузере ничего не изменилось, то тут одно из двух:

1.  Кэш.

2.  Ваша ошибка.

По умолчанию всё кэшируется в папку ``/var/cache``, которая содержит:

*   ``templates/`` - кэш скомпилированных шаблонов.

*   ``registry/`` - кэш объекта Registry.

*   ``misc/`` - кэш статики (css/js) и других данных, которые нужно кэшировать.

При разработке и модификации необходимо очищать кэш.

Автоматическая очистка кэша
---------------------------

Вы можете включить автоматическую очистку кэша в панели администратора. 

1.  Откройте панель администратора.

2.  Пройдите на страницу «Темы».

    .. note::

        Верхнее меню → Дизайн → Темы

    .. image:: img/howto_addon_08.png
        :alt: Первый модуль       

3.  Включите «Обновлять кеш автоматически»

    .. image:: img/howto_addon_09.png
        :alt: Первый модуль  

    .. note::

        Автоматически очищать кеш для измененных файлов (включая измененные напрямую на сервере). Возможно незначительное снижение скорости работы магазина. Рекомендуется отключить после внесения всех изменений в тему.


Ручная очистка кэша в браузере
------------------------------

1.  Откройте панель администратора.

2.  Добавьте параметр ``?cc`` в URL. 

    URL: ``ваш_домен/admin.php?cc``

    или так: ``ваш_домен/admin.php?dispatch=products.manage&cc``

3.  Нажмите "Enter"

Несколько вариантов очистки кэша через параметр в URL:

*   ``ct`` — для очистки миниатюр

*   ``ctpl`` — для очистки шаблонов

*   ``cc`` — для очистки registry и misc.


Ручная очистка кэша на веб-сервере
----------------------------------

Некоторые вещи кэшируются настолько серьезно, что поможет только грубое удаление файлов кэша. 

Все файлы кэша хранятся в папке: ``/var/cache``

Удалите или переименуйте папку: ``/var/cache``

При первой загрузке страницы в браузере, после очистки кэша, данные снова закэшируются. 

.. note::

    Вы можете проверить, насколько сильно кэш ускоряет загрузку страницы. Просто очистите кэш, перезагрузите страницу один раз, она будет загружаться медленно. Перезагрузите страницу второй раз.